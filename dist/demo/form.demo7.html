<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="jquery-3.3.1.min.js"></script>
    <script src="../yee.js"></script>
    <link rel="stylesheet" href="../css/yeeui.css">
</head>
<body>
<form method="post" yee-module="validate" data-validate@mode="0">
    <div>
        <label>用户名：</label>
        <div><input name="username" class="yee-inp" type="text" data-v@rule='{"r":true}'
                    data-v@message='{"r":"请填写用户名","remote":"错误"}'
                    yee-module="remote" data-remote@url="remote.php"
        ></div>
    </div>
    <div>
        <label>姓名：</label>
        <div><input name="name" type="text" class="yee-inp" data-v@rule='{"r":true}' data-v@message='{"r":"请填写姓名"}'>
        </div>
    </div>
    <div>
        <label>姓名：</label>
        <div><input name="name2" type="text" class="yee-inp select-dialog" yee-module="select-dialog"
                    data-v@rule='{"r":true}' data-url="dialog.html"
                    data-v@message='{"r":"请填写姓名"}'></div>
    </div>

    <div>
        <label>日期控件：</label>
        <div>
            <input id="picker1" class="yee-inp picker" yee-module="picker" value="1984-08-23">
            <input id="picker2" class="yee-inp picker" yee-module="picker" value="1984-08-23 10:32:56"
                   data-use-time="true">
            <input id="picker3" class="yee-inp picker" yee-module="picker" value="1984/08/23" data-format="yyyy/MM/dd">
            <input id="picker4" class="yee-inp picker" yee-module="picker" value="1984/08/23 PM 08:12:26"
                   data-use-time="true" data-format="yyyy/MM/dd TT hh:mm:ss">
        </div>
    </div>
    <div>
        <label>上传文件：</label>
        <div>
            <input name="upfile" type="text" class="yee-inp upload" yee-module="upload"
                   data-upload@url="upload.php"
                   data-v@rule='{"r":true}'
                   data-v@message='{"r":"请上传文件"}'>
        </div>
    </div>
    <div>
        <label>上传图片：</label>
        <div>
            <input name="upimg" type="text" class="yee-inp upload-image" yee-module="upload" data-upload@type="imgGroup"
                   data-upload@multiple="true"
                   data-upload@url="upload.php"
                   data-v@rule='{"r":true}'
                   data-v@message='{"r":"请上传文件"}'>
        </div>
    </div>
    <div>
        <label>标签：</label>
        <div>
            <label> <input id="tag1" name="tag" type="checkbox" class="yee-inp" value="1"
                           data-v@rule='{"r":true}'
                           data-v@message='{"r":"至少需要选择1项"}'
                           data-v@output="#for-tag"
            ><span>年轻</span></label>
            <label> <input id="tag2" name="tag" type="checkbox" class="yee-inp" value="2"><span>活力</span></label>

            <label> <input id="tag3" name="tag" type="checkbox" class="yee-inp" value="3"><span>血性</span></label>

            <label> <input id="tag4" name="tag" type="checkbox" class="yee-inp" value="4"><span>锋芒</span></label>

            <span id="for-tag"></span>
        </div>
    </div>

    <div>
        <label>选择城市：</label>
        <div>
            <label>
                <select class="yee-inp" data-v@rule='{"r":true}'
                        data-v@message='{"r":"请选择省份"}'
                        data-val-for="#for-area">
                    <option value=""
                    >省份
                    </option>
                    <option value="1">海南省</option>
                </select>
            </label>
            <label>
                <select class="yee-inp" data-v@rule='{"r":true}'
                        data-v@message='{"r":"请选择城市"}'
                        data-val-for="#for-area">
                    <option value="">城市</option>
                    <option value="2">东方市</option>
                </select>
            </label>
            <label>
                <select class="yee-inp" data-v@rule='{"r":true}'
                        data-v@message='{"r":"请选择地区"}'
                        data-v@output="#for-area">
                    <option value="">地区</option>
                    <option value="3">八所镇</option>
                </select>
            </label>
            <span id="for-area"></span>
        </div>
    </div>

    <div>
        <label>联动：</label>
        <div>
            <label>
                <input id="box" name="xarea" yee-module="linkage" class="yee-inp" data-v@rule='{"r":true}'
                       data-v@message='{"r":"请选择省份"}'
                       data-linkage@level="4"
                       data-linkage@header1="城市"
                       data-linkage@header2="地区"
                       data-linkage@header3="街道"
                       data-linkage@header4="房号"
                       data-linkage@source="linkage.json"
                       data-v@output="#for-xarea"/>
            </label>
            <span id="for-xarea"></span>
        </div>
    </div>

    <div>
        <label>编辑器：</label>
        <div>
            <textarea name="upimg" type="text" class="yee-inp xh-editor" yee-module="xheditor"></textarea>
        </div>
    </div>

    <div class="yee-submit">
        <input type="submit" class="yee-btn submit" value="提交">
        <a id="dialog" href="dialog.html" yee-module="dialog" on-success="alert(1); return false;"
           class="yee-btn">打开对话框</a>
    </div>
</form>
<script>
    $(function () {

        Yee.on('closeDialog', function () {
            console.log('closeDialog');
        });
        Yee.on('success', function (data) {
            console.log('Yee_success', data);
        });

        $('#dialog').on('success', function (ev, data) {
            console.log('dialog_success', data);
        });

        $('#box').val('["2","22","222"]');
        $('#box').instance().update();
        /*
        $('#dialog').on('click', function () {
            Yee.dialog('dialog.html');
        });*/
    })
</script>
</body>
</html>